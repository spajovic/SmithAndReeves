$("document").ready(function(){function e(e){let n="";e.forEach(function(e){n+='\n            <div class="proiz animated fadeIn">',1==e.best&&(n+='<div class="best-seller">\n                    <p>Best Seller</p>\n                </div>'),n+=`<div class="slika-pr">\n                <img src="assets/img/${e.slika.src}" alt="${e.slika.alt}"/>\n            </div>\n            <div class="tekst-pr">\n                <p class="naziv">${e.naziv}</p>\n                <div class="cena">\n                    <p class="cena">${e.cena.ncena}$</p>`,0!==e.cena.scena&&(n+=`<del class="stara-cena">${e.cena.scena}$</del>`),n+=' </div>\n                <div class="ocena">';for(let a=0;a<5;a++)a<=e.ocena?n+='<i class="fas fa-star"></i>':n+='<i class="far fa-star"></i>';n+=` </div>\n                <div class="ukorpu">\n                    <a href="#" class="malo-dodaj" data-id="${e.id}">Purchase</a>\n                </div>`,1==e.delivery&&(n+='<p class="delivery">ships to Serbia</p>'),0==e.delivery&&(n+='<p class="delivery"><del>ships to Serbia</del></p>'),n+="</div>\n        </div>\n            "}),$("#proizvodi").html(n),$(".malo-dodaj").on("click",function(e){e.preventDefault();let n=this.dataset.id,a=JSON.parse(localStorage.getItem("proizvodi"));if(null==a){let e=[];e[0]={id:n,kolicina:1},localStorage.setItem("proizvodi",JSON.stringify(e))}else{if(a.some(function(e){return e.id==n?1:0})){for(let e of a)if(e.id==n){e.kolicina++;break}localStorage.setItem("proizvodi",JSON.stringify(a))}else a.push({id:n,kolicina:1}),localStorage.setItem("proizvodi",JSON.stringify(a))}function t(e){if(localStorage.length){var n=JSON.parse(localStorage.getItem("proizvodi"));let s=e.filter(function(e){for(let a of n)if(e.id==a.id)return e.kolicina=a.kolicina,1});localStorage.setItem("proizvodi",JSON.stringify(s));var a=" ",t=0;s.forEach(function(e){let n=e.cena.ncena*e.kolicina;t+=n,a+=`\n                                    <tr>\n                                        <td><img src="assets/img/${e.slika.src}"class="slika-korpa" alt="${e.slika.alt}"/></td>\n                                        <td>${e.naziv}</td>\n                                        <td>${e.cena.ncena}$</td>\n                                        <td>${e.kolicina}</td>\n                                        <td>${n}$</td>\n                                        <td><a data-id="${e.id}" class="izbaci">Remove</a>\n                                    </tr>\n                                `}),document.getElementById("ubacivanje").innerHTML=a,$("#total").html("<p>TOTAL DEBT: "+t+" $</p"),$(".izbaci").on("click",o)}}function o(){var e=this.dataset.id;console.log(e);let n=JSON.parse(localStorage.getItem("proizvodi"));n=n.filter(function(n){if(n.id!=e)return n}),localStorage.setItem("proizvodi",JSON.stringify(n)),t(n)}$.ajax({url:"assets/data/products.json",type:"get",dataType:"json",success:function(e){localStorage.length&&t(e)},error:function(e){console.log(e)}})})}localStorage.removeItem("proizvodi"),localStorage.removeItem("filter"),$.ajax({url:"assets/data/nav.json",type:"GET",dataType:"json",success:function(e){console.log("Uspelo"),function(e){let n="";e.forEach(function(e){n+=`\n            <li><a href="${e.href}" class="${e.id}">${e.tekst}</a></li> \n            `}),$("header nav ul").html(n),$(".info ul").html(n),$('a[href*="#"]').not('[href="#"]').not('[href="#0"]').click(function(e){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var n=$(this.hash);(n=n.length?n:$("[name="+this.hash.slice(1)+"]")).length&&(e.preventDefault(),$("html, body").animate({scrollTop:n.offset().top},1e3))}})}(e),$(".korpa123").on("click",a),$(".cetvrti").on("click",o)},error:function(e){console.log(e)}}),$.ajax({url:"assets/data/uslg.json",type:"GET",dataType:"json",success:function(e){console.log("Uspelo"),function(e){let n="";e.forEach(function(e){n+=`\n            <div class="usluga">\n                <i class="${e.fafa}"></i>\n                <h4>${e.tekst}</h4>\n            </div>\n            `}),$("#usluge").html(n)}(e)},error:function(e){console.log(e)}}),$.ajax({url:"assets/data/mreze.json",type:"GET",dataType:"json",success:function(e){console.log("Uspelo"),function(e){let n="";e.forEach(function(e){n+=`\n            <a href="${e.href}" target=_blank><i class="${e.fafa}"></i></a>\n            `}),$("#mreze").html(n)}(e)},error:function(e){console.log(e)}}),$.ajax({url:"assets/data/divlink.json",type:"GET",dataType:"json",success:function(e){console.log("Uspelo"),function(e){let n="";e.forEach(function(e){n+=`\n            <div class="onama" id="${e.id}">\n            <div class="tekst">\n                <h3><a href="${e.href}">${e.tekst}</a></h3>\n            </div>\n            </div>\n            `}),$("#slika-link").html(n)}(e),$('a[href*="#"]').not('[href="#"]').not('[href="#0"]').click(function(e){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var n=$(this.hash);(n=n.length?n:$("[name="+this.hash.slice(1)+"]")).length&&(e.preventDefault(),$("html, body").animate({scrollTop:n.offset().top},1e3))}})},error:function(e){console.log(e)}}),$.ajax({url:"assets/data/ddl.json",type:"GET",dataType:"json",success:function(n){console.log("Uspelo"),function(n){let a="";n.forEach(function(e){a+=`<select id="${e.id}">`,e.option.forEach(function(e){a+=`\n                <option value="${e.value}">${e.tekst}</option>\n                `}),a+="</select>"}),$("#sortiranje").html(a),$("#sel-cena").on("change",function(){let n=$("#sel-cena").val();console.log(n),"HTL"==n&&($("#sel-ime").val(0),$.ajax({url:"assets/data/products.json",type:"GET",dataType:"json",success:function(n){n.sort(function(e,n){return e.cena.ncena>n.cena.ncena?-1:e.cena.ncena<n.cena.ncena?1:e.cena.ncena==n.cena.ncena?0:void 0});let a=JSON.parse(localStorage.getItem("filter"));a?(a.sort(function(e,n){return e.cena.ncena>n.cena.ncena?-1:e.cena.ncena<n.cena.ncena?1:e.cena.ncena==n.cena.ncena?0:void 0}),e(a)):e(n)},error:function(e){console.log(e)}})),"LTO"==n&&($("#sel-ime").val(0),$.ajax({url:"assets/data/products.json",type:"GET",dataType:"json",success:function(n){n.sort(function(e,n){return e.cena.ncena>n.cena.ncena?1:e.cena.ncena<n.cena.ncena?-1:e.cena.ncena==n.cena.ncena?0:void 0});let a=JSON.parse(localStorage.getItem("filter"));a?(a.sort(function(e,n){return e.cena.ncena>n.cena.ncena?1:e.cena.ncena<n.cena.ncena?-1:e.cena.ncena==n.cena.ncena?0:void 0}),e(a)):e(n)},error:function(e){console.log(e)}})),0==n&&$.ajax({url:"assets/data/products.json",type:"GET",dataType:"json",success:function(n){n.sort(function(e,n){return e.naziv>n.naziv?1:e.naziv<n.naziv?-1:e.naziv==n.naziv?0:void 0});let a=JSON.parse(localStorage.getItem("filter"));a?(a.sort(function(e,n){return e.naziv>n.naziv?1:e.naziv<n.naziv?-1:e.naziv==n.naziv?0:void 0}),e(a)):e(n)},error:function(e){console.log(e)}})}),$("#sel-tip").on("change",function(){let n=$("#sel-tip").val();"Shoes"==n&&$.ajax({url:"assets/data/products.json",type:"GET",dataType:"json",success:function(n){let a=n.filter(function(e){if("Cipele"==e.tip)return e});localStorage.setItem("filter",JSON.stringify(a)),e(a)},error:function(e){console.log(e)}}),"Hoodie"==n&&$.ajax({url:"assets/data/products.json",type:"GET",dataType:"json",success:function(n){let a=n.filter(function(e){if("Duks"==e.tip)return e});localStorage.setItem("filter",JSON.stringify(a)),e(a)},error:function(e){console.log(e)}}),"Shirt"==n&&$.ajax({url:"assets/data/products.json",type:"GET",dataType:"json",success:function(n){let a=n.filter(function(e){if("Kosulja"==e.tip)return e});localStorage.setItem("filter",JSON.stringify(a)),e(a)},error:function(e){console.log(e)}}),"Watch"==n&&$.ajax({url:"assets/data/products.json",type:"GET",dataType:"json",success:function(n){let a=n.filter(function(e){if("sat"==e.tip)return e});localStorage.setItem("filter",JSON.stringify(a)),e(a)},error:function(e){console.log(e)}}),0==n&&($("#sel-cena").val(0),$("#sel-ime").val(0),$.ajax({url:"assets/data/products.json",type:"GET",dataType:"json",success:function(n){localStorage.removeItem("filter"),e(n)},error:function(e){console.log(e)}}))}),$("#sel-ime").on("change",function(){let n=$("#sel-ime").val();"AZ"==n&&($("#sel-cena").val(0),$.ajax({url:"assets/data/products.json",type:"GET",dataType:"json",success:function(n){n.sort(function(e,n){return e.naziv>n.naziv?1:e.naziv<n.naziv?-1:e.naziv==n.naziv?0:void 0});let a=JSON.parse(localStorage.getItem("filter"));a?(a.sort(function(e,n){return e.naziv>n.naziv?1:e.naziv<n.naziv?-1:e.naziv==n.naziv?0:void 0}),e(a)):e(n)},error:function(e){console.log(e)}})),"ZA"==n&&($("#sel-cena").val(0),$.ajax({url:"assets/data/products.json",type:"GET",dataType:"json",success:function(n){n.sort(function(e,n){return e.naziv>n.naziv?-1:e.naziv<n.naziv?1:e.naziv==n.naziv?0:void 0});let a=JSON.parse(localStorage.getItem("filter"));a?(a.sort(function(e,n){return e.naziv>n.naziv?-1:e.naziv<n.naziv?1:e.naziv==n.naziv?0:void 0}),e(a)):e(n)},error:function(e){console.log(e)}})),0==n&&$.ajax({url:"assets/data/products.json",type:"GET",dataType:"json",success:function(n){n.sort(function(e,n){return e.naziv>n.naziv?1:e.naziv<n.naziv?-1:e.naziv==n.naziv?0:void 0});let a=JSON.parse(localStorage.getItem("filter"));a?(a.sort(function(e,n){return e.naziv>n.naziv?1:e.naziv<n.naziv?-1:e.naziv==n.naziv?0:void 0}),e(a)):e(n)},error:function(e){console.log(e)}})})}(n)},error:function(e){console.log(e)}}),$.ajax({url:"assets/data/products.json",type:"GET",dataType:"json",success:function(n){console.log("Uspelo"),e(n)},error:function(e){console.log(e)}}),$("#dugme1").on("click",function(){let e=[],n=$("#ime").val(),a=$("#prezime").val(),t=$("#komentar").val();/^[A-ZŠĐŽĆČ][a-zšđžćč]{1,13}$/.test(n)?$("#ime").css("border","1px solid green"):($("#ime").css("border","1px solid red"),e.push("Name must include first capital letter, and at least 2 letters")),/^[A-ZĐŠČĆŽ][a-zđšžćč]{2,16}$/.test(a)?$("#prezime").css("border","1px solid green"):($("#prezime").css("border","1px solid red"),e.push("Surname must include first capital letter, and at least 3 letters")),/^(\w.+\s).+$/.test(t)?$("#komentar").css("border","1px solid green"):($("#komentar").css("border","1px solid"),e.push("Comment must include at least 2 words"));var o="";for(let n=0;n<e.length;n++)o+=e[n]+" ,";alert(o)}),$("#dugme").on("click",function(){let e=$("#email").val();/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?$("#email").css("border","1px solid green"):($("#email").css("border","1px solid red"),alert("Please make sure your E-mail adress is in correct format"))});var n=document.getElementById("modal");function a(){n.style.display="block"}$("#zatvori").on("click",function(){n.style.display="none"}),window.addEventListener("click",function(e){e.target==n&&(n.style.display="none")});var t=document.getElementById("autor");function o(){t.style.display="block"}$("#zatvori2").on("click",function(){t.style.display="none"}),window.addEventListener("click",function(e){e.target==t&&(t.style.display="none")}),$('a[href*="#"]').not('[href="#"]').click(function(e){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var n=$(this.hash);(n=n.length?n:$("[name="+this.hash.slice(1)+"]")).length&&(e.preventDefault(),$("html,body").animate({scrollTop:n.offset().top},3e3))}})});